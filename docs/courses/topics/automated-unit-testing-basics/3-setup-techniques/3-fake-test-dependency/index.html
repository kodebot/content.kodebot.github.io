<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.54.0" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.ico" type="image/png">
    <title>Fake test dependency :: kodebot</title>

    
    <link href="/kodebot/courses/css/nucleus.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/fontawesome-all.min.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/hybrid.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/featherlight.min.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/perfect-scrollbar.min.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/auto-complete.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/atom-one-dark-reasonable.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/theme.css?1565789834" rel="stylesheet">
    <link href="/kodebot/courses/css/hugo-theme.css?1565789834" rel="stylesheet">
    
      <link href="/kodebot/courses/css/theme-mine.css?1565789834" rel="stylesheet">
    

    <script src="/kodebot/courses/js/jquery-3.3.1.min.js?1565789834"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/3-fake-test-dependency/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://localhost/kodebot/courses">
    <img src="/images/logo.png" style="background: white; padding-right: 2px">
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/kodebot/courses/js/lunr.min.js?1565789834"></script>
<script type="text/javascript" src="/kodebot/courses/js/auto-complete.js?1565789834"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost\/kodebot\/courses";
    
</script>
<script type="text/javascript" src="/kodebot/courses/js/search.js?1565789834"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/kodebot/courses/topics/" title="Courses" class="dd-item 
        parent
        
        
        ">
      <a href="/kodebot/courses/topics/">
          Courses
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/" title="Automated unit testing basics" class="dd-item 
        parent
        
        
        ">
      <a href="/kodebot/courses/topics/automated-unit-testing-basics/">
          Automated unit testing basics
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-course-overview/" title="Course overview" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-course-overview/">
        Course overview
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/">
          <b>1. </b>Introduction
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/1-what-is-automated-unit-testing/" title="What is automated unit testing?" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/1-what-is-automated-unit-testing/">
        What is automated unit testing?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/2-why-are-we-writing-unit-tests/" title="Why are we writing unit tests?" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/2-why-are-we-writing-unit-tests/">
        Why are we writing unit tests?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/3-what-is-good-unit-test/" title="What is good unit test?" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/3-what-is-good-unit-test/">
        What is good unit test?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/4-other-types-of-automated-testing/" title="Other types of automated testing" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/4-other-types-of-automated-testing/">
        Other types of automated testing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/5-system-under-test/" title="System Under Test (SUT)" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/1-introduction/5-system-under-test/">
        System Under Test (SUT)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/2-structure-of-unit-test/" title="Structure of unit test" class="dd-item 
        
        
        
        ">
      <a href="/kodebot/courses/topics/automated-unit-testing-basics/2-structure-of-unit-test/">
          <b>2. </b>Structure of unit test
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/2-structure-of-unit-test/1-structure/" title="Structure" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/2-structure-of-unit-test/1-structure/">
        Structure
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/" title="Setup techniques" class="dd-item 
        parent
        
        
        ">
      <a href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/">
          <b>3. </b>Setup techniques
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/1-simple-test-data/" title="Simple test data" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/1-simple-test-data/">
        Simple test data
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/2-data-driven-test/" title="Data driven test" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/2-data-driven-test/">
        Data driven test
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/3-fake-test-dependency/" title="Fake test dependency" class="dd-item active">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/3-fake-test-dependency/">
        Fake test dependency
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/4-mock-dependency/" title="Mock dependency" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/4-mock-dependency/">
        Mock dependency
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/" title="Verification techniques" class="dd-item 
        
        
        
        ">
      <a href="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/">
          <b>4. </b>Verification techniques
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/1-result-verification/" title="Result verification" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/1-result-verification/">
        Result verification
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/2-state-verification/" title="State verification" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/2-state-verification/">
        State verification
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/3-interaction-verification/" title="Interaction verification" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/4-verification-techniques/3-interaction-verification/">
        Interaction verification
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/5-test-driven-or-test-oriented/" title="Test driven or test oriented" class="dd-item 
        
        
        
        ">
      <a href="/kodebot/courses/topics/automated-unit-testing-basics/5-test-driven-or-test-oriented/">
          <b>5. </b>Test driven or test oriented
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/5-test-driven-or-test-oriented/1-test-driven-development/" title="Test driven development" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/5-test-driven-or-test-oriented/1-test-driven-development/">
        Test driven development
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/kodebot/courses/topics/automated-unit-testing-basics/5-test-driven-or-test-oriented/2-test-oriented-development/" title="Test oriented development" class="dd-item ">
        <a href="/kodebot/courses/topics/automated-unit-testing-basics/5-test-driven-or-test-oriented/2-test-oriented-development/">
        Test oriented development
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/kodebot/courses/blog/" title="learning" class="dd-item 
        
        
        
        ">
      <a href="/kodebot/courses/blog/">
          learning
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
             
            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/kodebot/courses/'>learning</a> > <a href='/kodebot/courses/topics/'>Courses</a> > <a href='/kodebot/courses/topics/automated-unit-testing-basics/'>Automated unit testing basics</a> > <a href='/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/'>Setup techniques</a> > Fake test dependency
          
         
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Fake test dependency
            </h1>
          

        



<p>It is very common that the SUT depends on something else. The dependency could be anything like another function, object or external system and we may not be able to control their behavior all the time. A good unit test should not be affected by the changes in the dependencies of SUT.</p>

<p>So, a common technique is to replace the dependencies with fake versions that we can control.</p>

<p>For example, consider a function that takes age of the passenger and prints whether he/she is eligible for senior citizen discount when promotion is available.</p>

<p>The function which tells whether the promotion is available or not is defined in another module and we don&rsquo;t have control over its behavior</p>

<pre><code>module promotions
    function isPromotionsAvailable():
        .
        .
        .
</code></pre>

<pre><code>module discounts

function isDiscountAvailable(age):
    if promotions.isPromotionAvailable() &amp;&amp; age &gt; 60:
        print(&quot;discount available&quot;)
    else:
        print(&quot;discount not available&quot;)
</code></pre>

<p>However, in order to test all the branches and conditions of <code>isDiscountAvailable()</code> function, we need to be able to control the result of <code>isPromotionAvailable()</code> function. So, we first create fake version of <code>isPromotionAvailable()</code> function in <code>fakePromotions</code> module with an option for us to control the result</p>

<pre><code>module fakePromotions
    offerPromotion = true

    function isPromotionAvailable():
        return offerPromotion
</code></pre>

<p>then replace the promotion with fakePromotion inside the test</p>

<pre><code>function test_isDiscountAvailable():
    // arrange
    promotions  = fakePromotions  //replace promotions module with fakePromotions module
    promotions.offerPromotion = true
    age = 65

    // act
    result = discounts.isDiscountAvailable(age)

</code></pre>

<p>Depending on the language and framework we use, the way we replace the real dependency with fake one will be different.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/2-data-driven-test/" title="Data driven test"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/kodebot/courses/topics/automated-unit-testing-basics/3-setup-techniques/4-mock-dependency/" title="Mock dependency" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/kodebot/courses/js/clipboard.min.js?1565789834"></script>
    <script src="/kodebot/courses/js/perfect-scrollbar.min.js?1565789834"></script>
    <script src="/kodebot/courses/js/perfect-scrollbar.jquery.min.js?1565789834"></script>
    <script src="/kodebot/courses/js/jquery.sticky.js?1565789834"></script>
    <script src="/kodebot/courses/js/featherlight.min.js?1565789834"></script>
    <script src="/kodebot/courses/js/html5shiv-printshiv.min.js?1565789834"></script>
    <script src="/kodebot/courses/js/highlight.pack.js?1565789834"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/kodebot/courses/js/modernizr.custom-3.6.0.js?1565789834"></script>
    <script src="/kodebot/courses/js/learn.js?1565789834"></script>
    <script src="/kodebot/courses/js/hugo-learn.js?1565789834"></script>

    <link href="/kodebot/courses/mermaid/mermaid.css?1565789834" type="text/css" rel="stylesheet" />
    <script src="/kodebot/courses/mermaid/mermaid.js?1565789834"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

